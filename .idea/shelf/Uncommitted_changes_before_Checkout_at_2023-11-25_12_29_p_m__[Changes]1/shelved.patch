Index: app/src/main/java/com/group6/medicaltest/repository/TestRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.group6.medicaltest.repository\r\n\r\nimport android.app.Application\r\nimport androidx.lifecycle.LiveData\r\nimport com.group6.medicaltest.dao.TestDAO\r\nimport com.group6.medicaltest.database.MedicalTestDatabase\r\nimport com.group6.medicaltest.entity.Test\r\nimport com.group6.medicaltest.utils.subscribeOnBackground\r\n\r\nclass TestRepository(application: Application) {\r\n\r\n    private var testDao: TestDAO\r\n    var allTests: LiveData<List<Test>>\r\n\r\n    private val database = MedicalTestDatabase.getInstance(application)\r\n\r\n    init {\r\n        testDao = database.testDao()\r\n        allTests = testDao.getAllTests()\r\n    }\r\n\r\n    fun insert(test: Test) {\r\n        subscribeOnBackground {\r\n            testDao.insertTest(test)\r\n        }\r\n    }\r\n\r\n    fun update(test: Test) {\r\n        subscribeOnBackground {\r\n            testDao.updateTest(test)\r\n        }\r\n    }\r\n\r\n    fun delete(test: Test) {\r\n        subscribeOnBackground {\r\n            testDao.deleteTest(test)\r\n        }\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/group6/medicaltest/repository/TestRepository.kt b/app/src/main/java/com/group6/medicaltest/repository/TestRepository.kt
--- a/app/src/main/java/com/group6/medicaltest/repository/TestRepository.kt	
+++ b/app/src/main/java/com/group6/medicaltest/repository/TestRepository.kt	
@@ -4,6 +4,7 @@
 import androidx.lifecycle.LiveData
 import com.group6.medicaltest.dao.TestDAO
 import com.group6.medicaltest.database.MedicalTestDatabase
+import com.group6.medicaltest.entity.Patient
 import com.group6.medicaltest.entity.Test
 import com.group6.medicaltest.utils.subscribeOnBackground
 
@@ -19,6 +20,16 @@
         allTests = testDao.getAllTests()
     }
 
+    fun getTestByPatientId(patientId: Int): LiveData<List<Test>> {
+        return testDao.getTestReportByPatient(patientId)
+    }
+
+//    fun getTestByPatientId(test: Test){
+//        subscribeOnBackground {
+//         testDao.getTestReportByPatient(test.patientId.toInt())
+//        }
+//    }
+
     fun insert(test: Test) {
         subscribeOnBackground {
             testDao.insertTest(test)
Index: app/src/main/java/com/group6/medicaltest/repository/PatientRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.group6.medicaltest.repository\r\n\r\nimport android.app.Application\r\nimport androidx.lifecycle.LiveData\r\nimport com.group6.medicaltest.dao.PatientDAO\r\nimport com.group6.medicaltest.database.MedicalTestDatabase\r\nimport com.group6.medicaltest.entity.Patient\r\nimport com.group6.medicaltest.utils.subscribeOnBackground\r\n\r\nclass PatientRepository(application: Application) {\r\n\r\n    private var patientDao: PatientDAO\r\n    var allPatients: LiveData<List<Patient>>\r\n\r\n    private val database = MedicalTestDatabase.getInstance(application)\r\n\r\n    init {\r\n        patientDao = database.patientDao()\r\n        allPatients = patientDao.getAllPatients()\r\n    }\r\n\r\n    fun getPatientById(patientId: Int): LiveData<Patient> {\r\n        return patientDao.getPatientById(patientId)\r\n    }\r\n\r\n    fun insert(patient: Patient) {\r\n        subscribeOnBackground {\r\n            patientDao.insertPatient(patient)\r\n        }\r\n    }\r\n\r\n    fun update(patient: Patient) {\r\n        subscribeOnBackground {\r\n            patientDao.updatePatient(patient)\r\n        }\r\n    }\r\n\r\n    fun delete(patient: Patient) {\r\n        subscribeOnBackground {\r\n            patientDao.deletePatient(patient)\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/group6/medicaltest/repository/PatientRepository.kt b/app/src/main/java/com/group6/medicaltest/repository/PatientRepository.kt
--- a/app/src/main/java/com/group6/medicaltest/repository/PatientRepository.kt	
+++ b/app/src/main/java/com/group6/medicaltest/repository/PatientRepository.kt	
@@ -23,6 +23,12 @@
         return patientDao.getPatientById(patientId)
     }
 
+//    fun getPatientById(patientId: Int) {
+//        subscribeOnBackground {
+//            patientDao.getPatientById(patientId)
+//        }
+//    }
+
     fun insert(patient: Patient) {
         subscribeOnBackground {
             patientDao.insertPatient(patient)
Index: app/src/main/java/com/group6/medicaltest/entity/Test.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.group6.medicaltest.entity\r\n\r\nimport androidx.room.Entity\r\nimport androidx.room.ForeignKey\r\nimport androidx.room.PrimaryKey\r\n\r\n@Entity(\r\n    tableName=\"test\",\r\n    foreignKeys =[\r\n        ForeignKey(\r\n            entity = Nurse::class,\r\n            parentColumns = [\"nurseId\"],\r\n            childColumns = [\"nurseId\"],\r\n            onDelete = ForeignKey.CASCADE\r\n        ),\r\n        ForeignKey(\r\n            entity = Nurse::class,\r\n            parentColumns = [\"patientId\"],\r\n            childColumns = [\"patientId\"],\r\n            onDelete = ForeignKey.CASCADE\r\n        ),\r\n    ]\r\n)\r\ndata class Test(\r\n    @PrimaryKey(autoGenerate = true)\r\n    val testId: Long,\r\n    val patientId: String,\r\n    val nurseId: Long,\r\n    val BPL: String,\r\n    val BPH: String,\r\n    val temperature: String,\r\n)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/group6/medicaltest/entity/Test.kt b/app/src/main/java/com/group6/medicaltest/entity/Test.kt
--- a/app/src/main/java/com/group6/medicaltest/entity/Test.kt	
+++ b/app/src/main/java/com/group6/medicaltest/entity/Test.kt	
@@ -23,7 +23,7 @@
 )
 data class Test(
     @PrimaryKey(autoGenerate = true)
-    val testId: Long,
+    val testId: Int,
     val patientId: String,
     val nurseId: Long,
     val BPL: String,
Index: app/src/main/java/com/group6/medicaltest/dao/PatientDAO.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.group6.medicaltest.dao\r\n\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.room.*\r\nimport com.group6.medicaltest.entity.Patient\r\n\r\n@Dao\r\ninterface PatientDAO {\r\n\r\n    @Insert\r\n    fun insertPatient(patient: Patient)\r\n\r\n    @Update\r\n    fun updatePatient(patient: Patient)\r\n\r\n    @Delete\r\n    fun deletePatient(patient: Patient)\r\n\r\n    @Query(\"Select * from patient\")\r\n    fun getAllPatients(): LiveData<List<Patient>>\r\n    abstract fun getPatientById(patientId: Int): LiveData<Patient>\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/group6/medicaltest/dao/PatientDAO.kt b/app/src/main/java/com/group6/medicaltest/dao/PatientDAO.kt
--- a/app/src/main/java/com/group6/medicaltest/dao/PatientDAO.kt	
+++ b/app/src/main/java/com/group6/medicaltest/dao/PatientDAO.kt	
@@ -7,6 +7,7 @@
 @Dao
 interface PatientDAO {
 
+    // We need only Insert, Fetch and Update for Patient
     @Insert
     fun insertPatient(patient: Patient)
 
@@ -18,5 +19,6 @@
 
     @Query("Select * from patient")
     fun getAllPatients(): LiveData<List<Patient>>
-    abstract fun getPatientById(patientId: Int): LiveData<Patient>
+
+    fun getPatientById(patientId: Int): LiveData<Patient>
 }
\ No newline at end of file
